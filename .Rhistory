Data
ggplot(Data, aes(x = Year, y = Frequency)) +
geom_bar(aes(fill = Category)) +
geom_text(aes(label = Frequency, y = pos), size = 3)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma) +
coord_flip() +
geom_text(aes(label = num_events, y = num_events), size = 3)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = 1)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = 0)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.06,.06)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.06,.1)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.1,.1)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.1,.0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.08,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.1,1)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.1)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.1,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(0,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(0,1)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(1,1)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.01,.01)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.01,.1)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
?expand
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(1,.01)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(0,.1)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.1,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.1,.1)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.08,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05)
top_lang
seq(1,length(top_lang))
dims(top_lang)[2]
dim(top_lang)
dim(top_lang)[1]
seq(1,dim(top_lang)[1])
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.08,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05) +
geom_text(aes(label = seq(1,dim(top_lang)[1]), y = 0), size = 3, hjust = 1.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.08,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05) +
geom_text(aes(label = seq(1,dim(top_lang)[1]), y = 0), size = 3, hjust = 2)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.08,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05) +
geom_text(aes(label = seq(1,dim(top_lang)[1]), y = 0), size = 3, hjust = -2)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.08,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05) +
geom_text(aes(label = seq(1,dim(top_lang)[1]), y = 0), size = 3, hjust = 1)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.08,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05) +
geom_text(aes(label = seq(1,dim(top_lang)[1]), y = 0), size = 3, hjust = c(1,1))
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.08,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05) +
geom_text(aes(label = seq(1,dim(top_lang)[1]), y = 0), size = 3, hjust = -1)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.08,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05) +
geom_text(aes(label = seq(1,dim(top_lang)[1]), y = 0), size = 3, hjust = 0)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.08,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05) +
geom_text(aes(label = seq(1,dim(top_lang)[1]), y = 0), size = 3, hjust = 1)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.08,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05) +
geom_text(aes(label = seq(1,dim(top_lang)[1]), y = 0), size = 3, hjust = 1.01)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.08,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05) +
geom_text(aes(label = seq(1,dim(top_lang)[1]), y = 0), size = 3, hjust = 1.05)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.08,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05) +
geom_text(aes(label = seq(1,dim(top_lang)[1]), y = 0), size = 3, hjust = 1.1)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.08,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05) +
geom_text(aes(label = seq(1,dim(top_lang)[1]), y = 0), size = 3, hjust = 1.5)
ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
scale_y_continuous(labels = comma, expand = c(.08,0)) +
coord_flip() +
geom_text(aes(label = num_event, y = num_event), size = 3, hjust = -.05) +
geom_text(aes(label = seq(1,dim(top_lang)[1]), y = 0), size = 3, hjust = 1.3)
runApp("app_top_language")
runApp("app_top_language")
top_lang <- getTopLang()
source("getTopLang")
runApp("app_top_language")
data <- read.csv("event_lang_day.csv", stringsAsFactor = F)
runApp("app_top_language")
data <- read.csv("event_lang_day.csv", stringsAsFactor = F)
setwd("~/Dev/non_work_projects/shiny_workshop/app_top_language")
runApp("app_top_language")
setwd("~/Dev/non_work_projects/shiny_workshop")
runApp("app_top_language")
runApp("app_top_language")
getData <- reactive({
data <- read.csv("event_lang_day.csv", stringsAsFactor = F)
return(data)
})
output$dateRange <- renderUI({
##| Set date ragne input
data <- getData()
data$date <- as.Date(data$date)
min_date <- min(data$date)
max_date <- max(data$date)
dateRangeInput("daterange", "Date range:",
start = min_date,
end   = max_date,
min   = min_date,
max   = max_date)
})
getTopLang <- reactive({
##| Find top languages by eventtype
data <- getData()
data <- subset(data, date >= min(input$daterange) & date <= max(input$daterange))
lang <- ddply(data, .(type, repository_language), summarize,
num_event = sum(count_event)
)
lang <- subset(lang,type == input$event_type)
lang <- lang[order(lang$num_event, decreasing=T),]
top_lang <- lang[1:20,]
top_lang <- transform(top_lang, repository_language=reorder(repository_language, num_event))
return(top_lang)
})
top_lang <- getTopLang()
runApp("app_top_language")
data <- read.csv("app_top_language/event_lang_day.csv", stringsAsFactor = F)
data <- subset(data, date >= min(input$daterange) & date <= max(input$daterange))
source('~/.active-rstudio-document')
runApp("app_top_language")
str(data)
ggplot(data, aes(date,count_event)) +
geom_point()
runApp("app_top_language")
runApp("app_top_language")
lang <- ddply(data, .(type, repository_language), summarize,
num_event = sum(count_event))
lang
lang <- subset(lang,type == input$event_type)
lang <- subset(lang,type == "pushEvent")
lang <- lang[order(lang$num_event, decreasing=T),]
top_lang <- lang[1:20,]
top_lang <- transform(top_lang, repository_language=reorder(repository_language, num_event))
top_lang
lang <- subset(lang,type == "PushEvent")
lang
lang <- ddply(data, .(type, repository_language), summarize,
num_event = sum(count_event))
lang <- subset(lang,type == "PushEvent")
lang
lang <- lang[order(lang$num_event, decreasing=T),]
lang
top_lang <- lang[1:20,]
top_lang <- transform(top_lang, repository_language=reorder(repository_language, num_event))
top_lang
runApp("app_top_language")
unique(data$type)
event_list[1]
event_list <- unique(data$type)
event_list
event_list[1]
runApp("app_top_language")
runApp("app_top_language")
runApp("app_top_language")
getData <- reactive({
data <- read.csv("event_lang_day.csv", stringsAsFactor = F)
return(data)
})
runApp("app_top_language")
?transform
runApp("app_top_language")
getwd
getwd()
runApp("app_getting_started")
getwd()
setwd("~/Dev/non_work_projects/shiny_workshop")
getwd()
setwd("~/Dev/non_work_projects/shiny_workshop/app_top_language")
getwd()
setwd(..)
setwd(../)
setwd(./)
setwd(cd ..)
?setwd
setwd(..)
setwd(.)
setwd(./)
setwd('./')
getwd()
setwd('../')
getwd()
install.packages("shiny")
getwd()
runApp("app_getting_started")
getwd()
runApp("app_histogram")
?hist
runApp("app_histogram")
runApp("app_top_language")
runApp("app_top_language")
runApp("app_top_language")
data <- read.csv("data/event_lang_day.csv", stringsAsFactor = F)
getwd()
data <- read.csv("app_top_language/data/event_lang_day.csv", stringsAsFactor = F)
str(data)
unique(data$type)
runApp("app_top_language")
runApp("app_top_language")
setwd("~/Dev/non_work_projects/shiny_workshop/app_top_language")
library(plyr)
library(ggplot2)
library(reshape2)
library(lubridate)
data <- read.csv("data/event_lang_day.csv", stringsAsFactor = F)
lang <- ddply(data, .(type, repository_language), summarize,
num_event = sum(count_event))
lang <- subset(lang,type == "PushEvent")
lang <- lang[order(lang$num_event, decreasing=T),]
top_lang <- lang[1:20,]
top_lang <- transform(top_lang, repository_language=reorder(repository_language, num_event))
## make a bar chart of the top languages
p <- ggplot(top_lang, aes(repository_language, num_event)) +
geom_bar(stat="identity", fill = 'steelblue', alpha = .7) +
coord_flip()
print(p)
getwd()
setwd(/Users/wsurles/Dev/non_work_projects/shiny_workshop")
setwd("/Users/wsurles/Dev/non_work_projects/shiny_workshop")
runApp("app_top_language")
runApp("app_top_language")
runApp("app_top_language")
runApp("app_top_language")
str(data)
max(data$date)
min(data$date)
lang <- subset(lang,date >= input$start_date & date <= input$end_date)
runApp("app_top_language")
runApp("app_top_language")
clc
clear
source("common.R")
setwd("~/Dev/projects/shiny/lib")
getwd()
source("common.R")
sql_query <- paste(readLines("beta_its_day_user.sql", warn=F), collapse="\n")
sql_query
conn <- dbConnectRust()
df <- dbGetQuery(conn, sql_query)
dbDisconnectRust()
df
head(df)
str(df)
df2 <- ddply(df, .(sql_date_stamp, subscriber_id), summarize,
beat_page = count(slug = '/oiterationsatus')
)
df2 <- ddply(df, .(sql_date_stamp, subscriber_id), summarize,
current_page = count(slug = '/oiterationstatus')
)
df2 <- ddply(df, .(sql_date_stamp, subscriber_id), summarize,
current_page = count(subset(slug = '/oiterationstatus'))
)
df2 <- ddply(df, .(sql_date_stamp, subscriber_id), summarize,
current_page = count(subset(df,slug = '/oiterationstatus'))
)
df[1:10,]
df2 <- ddply(df, .(sql_date_stamp, subscriber_id), summarize,
current_page = '/oiterationstatus' %in% slug
)
head(df)
head(df2)
head(df2, 20)
head(df2, 100)
df2[df2$current_page == FALSE,]
df2 <- ddply(df, .(sql_date_stamp, subscriber_id), summarize,
current_page = '/oiterationstatus' %in% slug,
beta_page = '/iterationstatus' %in% slug,
)
df2 <- ddply(df, .(sql_date_stamp, subscriber_id), summarize,
current_page = '/oiterationstatus' %in% slug,
beta_page = '/iterationstatus' %in% slug
)
order(df2$sql_date_stamp)
head(df2, 100)
order(df2$sql_date_stamp)
df2[order(df2$sql_date_stamp),]
df2 <- df2[order(df2$sql_date_stamp),]
head(df2, 100)
tail(df2, 100)
df2 <- df2[order(df2$subscriber_id),]
tail(df2, 100)
df3 <- subset(df2, subscriber_id = 617405)
df3
df3 <- subset(df2, subscriber_id = '617405')
df3
tail(df2, 100)
str(df2)
df2[df2$subscriber_id == 617405,]
subset(df2, subscriber_id = 617405)
df3 <- df2[df2$subscriber_id == 617405,]
df3
tail(df2, 1000)
df3 <- df2[df2$subscriber_id ==  599165  ,]
df3
table(df2$subscriber$id)
table(df2$subscriber_id)
as.data.frame(table(df2$subscriber_id))
df4 <- as.data.frame(table(df2$subscriber_id))
head(df4)
df4 <- df4[order(df4$Freq),]
head(df4)
df4 <- df4[order(df4$Freq, decreasing=T),]
head(df4)
df3 <- df2[df2$subscriber_id ==  341130   ,]
df3
head(df4, 100)
sql_query <- paste(readLines("beta_its_day_user.sql", warn=F), collapse="\n")
conn <- dbConnectRust()
df <- dbGetQuery(conn, sql_query)
dbDisconnectRust()
sql_query <- paste(readLines("beta_its_day_user.sql", warn=F), collapse="\n")
conn <- dbConnectRust()
df <- dbGetQuery(conn, sql_query)
dbDisconnectRust()
df2 <- ddply(df, .(sql_date_stamp, subscriber_id), summarize,
old_page = '/oiterationstatus' %in% slug,
beta_page = '/iterationstatus' %in% slug
)
df2 <- df2[order(df2$sql_date_stamp),]
df2 <- df2[order(df2$subscriber_id),]
tail(df2, 1000)
df4 <- as.data.frame(table(df2$subscriber_id))
df4 <- df4[order(df4$Freq, decreasing=T),]
head(df4, 100)
df3 <- df2[df2$subscriber_id ==  532058,]
df3
subset(df2, df2$subscriber_id = 617405)
?subset
subset(df2, subscriber_id == 617405)
df4 <- as.data.frame(table(df2$subscriber_id))
df4 <- df4[order(df4$Freq, decreasing=T),]
head(df4, 100)
df4 <- as.data.frame(table(df2$subscriber_id))
df4 <- df4[order(df4$Freq, decreasing=T),]
head(df4, 20)
subset(df2, subscriber_id == 471185)
faithful$eruptions
faithful
head(faitful)
head(faithful)
str(faithful)
faithful$eruptions
faithful$waiting
table(faithful$waiting)
faithful$waiting[1:5]
var <- faithful$waiting[1:10]
var
hist(eruptions$waiting)
hist(faithful$waiting)
?hist
?faithful
##| this is the faithful data set. Its in a dataframe
faithful
str(faithful)
## look at the top values
head(faithful)
## look at the last values
tail(faithful)
## look at the eruptions column
faithful$eruptions
## Look at the waiting column
faithful$waiting
## Make a table of values (counts of each) in the waiting column
table(faithful$waiting)
## Make a new variable of the first 10 values in eruptions$waiting
var <- faithful$waiting[1:10]
## plot a histogram faithful$waiting
hist(faithful$waiting)
## get help on the'hist' funciton
?hist
## get help on the faitful dataset
?faithful
setwd("~/Dev/non_work_projects/shiny_workshop/app_top_language")
setwd("~/Dev/non_work_projects/shiny_workshop")
runApp("app_top_language")
runApp("app_top_language")
